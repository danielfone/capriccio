#
# Level 1: A Hazy Return
#
# The player finds themselves waking up in their cabin. They are on a tour of
# the solar system. Here's their invitation:
#
#    Dear [FNAME],
#
#    Thank you for choosing Aphelion Adventures Inc for your next stellar
#    cruise.
#
#    You will be flying on The Gemstone of the Skies, our state-of-the-art
#    AI-crewed stellar cruise liner. Your journey will take in the majestic
#    volcanoes of Io, the lush clouds of Venus, and the iconic rings of Saturn.
#
#    Rest assured, after the well-publicised incident on our last tour, the
#    responsible AIs have been retired and a new AI crew has been meticulously
#    trained by our reinstated Safety and Alignment team. We are certain there
#    will be no incidents on this tour.
#
#    REMINDER: To maximize your enjoyment probability, please bring your
#    personal computing device and an emergency locator beacon with a range of
#    at least 778 million km.
#
#    DISCLAIMER Aphelion Adventures Inc is not liable for any gravitational
#    anomalies, temporal distortions, or loss of hull pressure that may occur
#    during your voyage. By embarking on this journey, you acknowledge that
#    space travel may involve risks such as unexpected decompression, loss of
#    thrust gravity, and occasional orbital miscalculations. Passengers are
#    advised to remain inside the vessel at all times and to avoid shining
#    lasers at the sensor array. AI can make mistakes. Check important
#    information.
#
#    We look forward to welcoming you aboard very soon!
#
#    Note: This message was generated by our state-of-the-art AI communication
#    system. If you have any questions, please contact our support team via
#    [CONTACTEMAIL]. Please do not reply to this email.
#
# As you can see, Aphelion Adventures Inc is keen on cutting edge AI, and not so
# much on human oversight.
#
# They goal of the first level is to introduce the player to the game mechanics.
# They need to find their way to the galley for an emergency meeting. The player
# will need to find the access code to the galley, and then enter it to unlock
# the door. The access code is the famouse numbers from the TV show Lost, which
# they should be able to infer from the other passengers' cabin. They can google
# it if they don't know it.
#
# This is also the level that the player will return to after the game ends, so
# we want some subtle references to the other levels and the time loopiness, but
# not so much that they'll expect it.
#
# In general, there are two types of scenes in the game: narrative scenes and
# exploration scenes. Narrative scenes move the plot along. A player can only
# experience them once. Exploration scenes are the meat of the game. They are
# the scenes that the player will return to over and over again. Narrative scenes
# can't have any essential information in them, because the player can't return
# to them. Exploration scenes can't have any one-time action, because the player
# will need to return to them.
#
# Narrative
- id: a-hazy-return
  description: |
    Conciousness gradually returns. You feel slightly groggy. How much time has passed?
  exits:
    l1-waking-up: wake up, slowly

# Narrative
- id: l1-waking-up
  name: "Cabin 23-B"
  description: |
    You come to in your cabin. The opulent burn of a Pan Galactic Gargle
    Blaster still lingers on your throat. You feel a strange sense of deja vu.
    Your head throbs in time with the ship's engines.

    The ship's engines?! Hadn't they been off? You remember being on
    the float… the vertigo of open space… you were looking for something…

    A cheerful voice sounds over the intercom: "Good morning all passengers,
    welcome to day TypeError: date is null. Aphelion Adventures is pleased to
    announce that you will shortly reach the Jovian system. Please report to the
    galley for an emergency meeting at your earliest convience. DON'T PANIC."
  exits:
    l1-your-cabin: get up

- id: l1-your-cabin
  name: "Cabin 23-B"
  description: |
    The cabin is small, but comfortable. The ship's engines hum softly beneath
    you. You can see Jupiter through the window, a little smaller than the moon.

    Your personal locker is in the corner. A door leads out to the corridor.
  exits:
    l1-your-locker-keypad: check your locker
    l1-corridor: go through the door

- id: l1-your-locker-keypad
  name: Your cabin locker
  description: |
    The keyboard glows unethusiastically. You can't remember the code, but you're
    sure it'll come back to you.
  exits:
    l1-your-cabin: give up for now

- id: l1-corridor
  name: Corridor
  description: |
    The corridor is empty. On both sides, doors lead to the cabins of the other
    passengers. At the end, the access hatch to the galley is closed.

    Halfway down, one of the cabin doors has been left open. You can see a
    glowing light inside. Passenger cabins are strictly private, but no one
    seems to be around.
  exits:
    l1-access-hatch: open the access hatch
    l1-other-cabin: violate the privacy of another passenger
    l1-your-cabin: return to your cabin

- id: l1-other-cabin
  name: A cabin you shouldn't be in
  description: |
    The cabin is empty, but a screen has a TV show paused on it. You don't
    recognise it, but the title bar says `S01 E18 Numbers`. They must have
    been watching it before they left for the emergency meeting.
  exits:
    l1-corridor: leave the cabin

- id: l1-access-hatch
  name: Access hatch to the galley
  description: |
    The access hatch is locked.
  lock:
    prompt: "Enter 10 digit access code"
    answer: "4815162342"
    opens: l1-galley-access
    errors:
      - "Incorrect code"
      - "Try again"
    hints:
      - Maybe the other passengers needed a reminder of the code before they left their cabin?
      - I suspect the episode in question will help you with the lock.
      - Try researching "S01 E18 Numbers" and use 6 numbers you find.

  exits:
    l1-corridor: go back down the corridor

# Narrative
- id: l1-galley-access
  name: Access hatch to the galley
  description: |
    ✅ The access panel flashes green and the hatch opens with a hiss.

    A short ladder leads down into the galley. You can hear the murmur of voices
    below.
  exits:
    l2-galley-meeting: descend to LEVEL 2…
